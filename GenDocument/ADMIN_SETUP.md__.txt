# ADMIN_SETUP.md
# MÃ³dulo Administrativo - ConfiguraciÃ³n para ProducciÃ³n

## ðŸš€ **CONFIGURACIÃ“N COMPLETA PARA PRODUCCIÃ“N**

### **1. Configurar Google OAuth**

1. **Ir a Google Cloud Console**: https://console.cloud.google.com/
2. **Crear nuevo proyecto** o usar existente
3. **Activar APIs**:
   - Google+ API
   - Google OAuth2 API

4. **Crear credenciales OAuth 2.0**:
   - Ir a "Credenciales" â†’ "Crear credenciales" â†’ "ID de cliente OAuth"
   - Tipo de aplicaciÃ³n: "AplicaciÃ³n web"
   - **OrÃ­genes autorizados**:
     - `http://localhost:3000` (desarrollo)
     - `https://tudominio.com` (producciÃ³n)
     - `https://www.tudominio.com` (producciÃ³n)

5. **URI de redirecciÃ³n autorizados**:
   - `http://localhost:3000/api/auth/callback/google` (desarrollo)
   - `https://tudominio.com/api/auth/callback/google` (producciÃ³n)

### **2. Variables de Entorno**

Actualizar `.env` con valores reales:

```env
DATABASE_URL=file:/home/z/my-project/db/custom.db

# NextAuth.js Configuration
NEXTAUTH_SECRET=tu-secreto-super-seguro-unico
NEXTAUTH_URL=https://tudominio.com

# Google OAuth Configuration
GOOGLE_CLIENT_ID=tu-client-id-real
GOOGLE_CLIENT_SECRET=tu-client-secret-real
```

### **3. Configurar Usuario Administrador**

En `/src/app/api/auth/[...nextauth]/route.ts` cambiar:

```typescript
// Cambiar este email por tu email real
if (user?.email === 'tu-email-real@gmail.com') {
  token.role = 'admin'
}
```

### **4. Generar NEXTAUTH_SECRET**

```bash
# Generar un secreto seguro
openssl rand -base64 32
```

## ðŸ“‹ **FUNCIONALIDADES COMPLETAS**

### âœ… **Panel Administrativo**
- Dashboard con estadÃ­sticas
- GestiÃ³n completa de canciones (CRUD)
- GestiÃ³n de playlists
- ConfiguraciÃ³n del sitio
- ExportaciÃ³n de datos

### âœ… **Seguridad**
- OAuth con Google
- Middleware de protecciÃ³n
- Roles de usuario
- ValidaciÃ³n en todas las APIs

### âœ… **Base de Datos**
- SQLite con Prisma
- Modelos Song y Playlist
- Relaciones configuradas
- Datos de ejemplo incluidos

## ðŸŒ **ACCESO AL PANEL**

1. **URL**: `https://tudominio.com/admin`
2. **Login**: Google OAuth
3. **Solo admin**: Email configurado en el cÃ³digo

## ðŸ”„ **FLUJO COMPLETO**

1. **Usuario** visita `/admin`
2. **Redirigido** a `/admin/login`
3. **Inicia sesiÃ³n** con Google
4. **Verificado** email de admin
5. **Acceso** al dashboard completo

## ðŸ“± **CARACTERÃSTICAS DEL DASHBOARD**

### **GestiÃ³n de Canciones**
- âœ… Crear nueva canciÃ³n
- âœ… Editar existente
- âœ… Eliminar
- âœ… Publicar/Despublicar
- âœ… Vista previa

### **GestiÃ³n de Playlists**
- âœ… Crear playlists
- âœ… Editar nombres
- âœ… Eliminar
- âœ… Ver contador de canciones

### **ConfiguraciÃ³n**
- âœ… InformaciÃ³n del sitio
- âœ… Redes sociales
- âœ… CaracterÃ­sticas activas
- âœ… Exportar datos

## ðŸš€ **DESPLEGUE EN PRODUCCIÃ“N**

### **Vercel (Recomendado)**
```bash
# Instalar Vercel CLI
npm i -g vercel

# Desplegar
vercel --prod

# Configurar variables de entorno en Vercel Dashboard
```

### **ConfiguraciÃ³n en Vercel**
1. Ir a Vercel Dashboard
2. Configurar Environment Variables:
   - `NEXTAUTH_SECRET`
   - `NEXTAUTH_URL`
   - `GOOGLE_CLIENT_ID`
   - `GOOGLE_CLIENT_SECRET`

### **Netlify**
```bash
# Construir
npm run build

# Subir a Netlify con variables configuradas
```

## ðŸ”§ **MANTENIMIENTO**

### **Backup AutomÃ¡tico**
- Exportar datos desde panel admin
- Archivo JSON con toda la informaciÃ³n
- FÃ¡cil restauraciÃ³n

### **Actualizaciones**
- El sistema es modular
- FÃ¡cil agregar nuevas funcionalidades
- Base de datos escalable

## ðŸ“Š **ESTADÃSTICAS INCLUIDAS**

- Total de canciones
- Total de playlists  
- Contador de reproducciones (simulado)
- Datos en tiempo real

## ðŸŽ¯ **LISTO PARA PRODUCCIÃ“N**

âœ… **Configurado** para producciÃ³n inmediata
âœ… **Seguro** con OAuth y roles
âœ… **Completo** con todas las funcionalidades
âœ… **Escalable** para crecimiento futuro

**Solo necesitas:**
1. Configurar Google OAuth
2. Actualizar variables de entorno
3. Cambiar email de admin
4. Desplegar en producciÃ³n

Â¡Tu panel administrativo estarÃ¡ 100% funcional! ðŸŽ‰
